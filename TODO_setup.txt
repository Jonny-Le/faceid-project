==============================================
ğŸ§   FACE VERIFICATION PROJECT - TODO GUIDE
==============================================

ğŸ“ Má»¤C TIÃŠU
Thiáº¿t láº­p Ä‘áº§y Ä‘á»§ mÃ´i trÆ°á»ng vÃ  khung huáº¥n luyá»‡n nháº­n dáº¡ng khuÃ´n máº·t (Face Verification)
trÃªn GPU RTX 5090, vá»›i PyTorch nightly (CUDA 12.8) vÃ  mÃ´i trÆ°á»ng venv-pytorch.

----------------------------------------------
I. Cáº¤U TRÃšC Dá»° ÃN
----------------------------------------------
~/myprojects/faceid-project/
â”œâ”€â”€ src/                -> MÃ£ nguá»“n chÃ­nh (dataset, model, utils, train)
â”œâ”€â”€ data/               -> áº¢nh khuÃ´n máº·t, chia thÃ nh train/val
â”œâ”€â”€ models/             -> NÆ¡i lÆ°u checkpoint (.pt)
â”œâ”€â”€ results/            -> Káº¿t quáº£ inference / metric
â”œâ”€â”€ notebooks/          -> Thá»­ nghiá»‡m Jupyter náº¿u cáº§n
â”œâ”€â”€ logs/               -> Ghi log huáº¥n luyá»‡n (TensorBoard, CSV, v.v.)
â””â”€â”€ TODO_setup.txt      -> File hÆ°á»›ng dáº«n nÃ y

----------------------------------------------
II. CHUáº¨N Bá»Š Dá»® LIá»†U
----------------------------------------------
1ï¸âƒ£ Táº¡o cáº¥u trÃºc dá»¯ liá»‡u:

data/
â”œâ”€â”€ train/
â”‚   â”œâ”€â”€ person_a/
â”‚   â”‚   â”œâ”€â”€ img1.jpg
â”‚   â”‚   â”œâ”€â”€ img2.jpg
â”‚   â””â”€â”€ ...
â””â”€â”€ val/
    â”œâ”€â”€ person_x/
    â””â”€â”€ person_y/

Má»—i thÆ° má»¥c con Ä‘áº¡i diá»‡n cho 1 ngÆ°á»i, chá»©a nhiá»u áº£nh cá»§a ngÆ°á»i Ä‘Ã³.

2ï¸âƒ£ CÃ³ thá»ƒ dÃ¹ng Python hoáº·c script Ä‘á»ƒ resize, crop hoáº·c chia train/val tá»± Ä‘á»™ng.

----------------------------------------------
III. KÃCH HOáº T MÃ”I TRÆ¯á»œNG
----------------------------------------------
source ~/venv-pytorch/bin/activate

Dáº¥u nháº¯c sáº½ hiá»ƒn thá»‹:
(venv-pytorch) hoc@hoc-System-Product-Name:~/myprojects/faceid-project$

----------------------------------------------
IV. CHáº Y THá»¬ HUáº¤N LUYá»†N
----------------------------------------------
python src/train.py --epochs 1 --batch_size 64

Sau khi cháº¡y xong:
- Model tá»‘t nháº¥t lÆ°u táº¡i: models/backbone_best.pt
- Log thá»i gian vÃ  accuracy in ra terminal

----------------------------------------------
V. TÃ™Y CHá»ˆNH & GHI CHÃš
----------------------------------------------
âš™ï¸ CÃ¡c tham sá»‘ há»¯u Ã­ch:
--img_size        : kÃ­ch thÆ°á»›c áº£nh (default 224)
--batch_size      : batch training (default 64)
--embed_dim       : kÃ­ch thÆ°á»›c vector embedding (default 512)
--pairs_per_epoch : sá»‘ cáº·p áº£nh má»—i epoch
--pos_ratio       : tá»‰ lá»‡ áº£nh cÃ¹ng ngÆ°á»i (0.5 máº·c Ä‘á»‹nh)
--eval_pairs      : sá»‘ cáº·p dÃ¹ng Ä‘á»ƒ kiá»ƒm tra accuracy
--epochs          : sá»‘ epoch huáº¥n luyá»‡n

ğŸ’¡ CÃ³ thá»ƒ báº­t thÃªm TensorBoard Ä‘á»ƒ theo dÃµi:
tensorboard --logdir logs/

----------------------------------------------
VI. GHI CHÃš Ká»¸ THUáº¬T
----------------------------------------------
- Sá»­ dá»¥ng ResNet50 + ArcFace (Ä‘Ã£ cÃ³ module sáºµn)
- Huáº¥n luyá»‡n báº±ng contrastive cosine loss (BCE)
- DÃ¹ng FP16 (AMP) vÃ  channels_last Ä‘á»ƒ tÄƒng tá»‘c
- ÄÃ£ báº­t TF32 cho Tensor Cores cá»§a RTX 5090:
  torch.backends.cuda.matmul.fp32_precision = "high"
  torch.backends.cudnn.conv.fp32_precision  = "tf32"

----------------------------------------------
VII. SAU KHI THÃ€NH CÃ”NG
----------------------------------------------
âœ… MÃ´i trÆ°á»ng: á»•n Ä‘á»‹nh vÃ  cá»‘ Ä‘á»‹nh
âœ… Driver 580.95.05, CUDA 12.6 / 12.8 OK
âœ… PyTorch nightly + cu128 há»— trá»£ RTX 5090
âœ… Dá»± Ã¡n Ä‘Ã£ sáºµn sÃ ng huáº¥n luyá»‡n vÃ  má»Ÿ rá»™ng

